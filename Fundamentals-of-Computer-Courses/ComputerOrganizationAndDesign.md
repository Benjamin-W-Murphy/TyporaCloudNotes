# Computer Organization And Design

## 国内教材 计算机组成原理

## 第一部分 概论
### 1.计算机系统概论
#### 1.1 计算机系统简介
#####  1.1.1计算机的软硬件概念  

​		**硬件：**组成计算机的物理实体部分；软件：由人们事先编制的具有各类特殊功能的程序组成

​		**计算机系统的软件又可以分为两大类：**系统软件和应用软件

​		**系统软件：**又称系统程序，**主要用于管理整个计算机系统，监视服务，使系统资源得到合理调度，高效运行**；系统软件通常包括如下内容：标准程序库、语言处理程序（即将各层级语言编译为机器语言的程序）、操作系统、服务程序、数据库管理系统（DBMS）、网络软件等

​		**应用软件：**又称应用程序，是用户根据任务需要所编制的各种程序；包括科学计算器、数据处理程序、过程处理程序、事务管理程序等

##### 1.1.2 计算机系统的层次结构		

​		**计算机的一般解题过程：**用户编写高级语言程序——翻译成机器语言程序——输入目标计算机运行——得出结果

​		这个一个过程在计算机发展中得到了不断地细化，早期只有一个实际机器时，用户是直接编写二进制编码的程序让计算机运行的，即直接在实际机器上操作。在产生了符号化的变成语言后，可以理解为用户不再直接与计算机打交道，而是利用比机器语言高级的编程语言在一个虚拟机器上进行操作，而这个虚拟机器可以将用户的编程语言转换成实际机器能执行的机器语言

​		**根据上述内容，从时间顺序上产生了如下几种计算机系统**：

​		**两层次结构计算机系统**——随汇编语言产生

​		图示：<img src="ComputerOrganizationAndDesign.assets/1.jpg" alt="1" style="zoom:15%;" />

​		此时出现了ADD、SUB、MUL、DIV等表示加减乘除的符号，并用符号表示指令或数据所在的存储单元地址，让程序员不再使用繁琐复杂的二进制编码来编写程序。因为机器不能直接识别这些人类符号，所以实际机器向上发展出了虚拟机器，这些人类符号在虚拟机器上通过软件翻译成机器语言。

​		**缺点：虽然在目前的结构中看似已经有了较多的便利，但汇编语言仍然是一个面向机器的语言，甚至随着机器的发展，不同的机器还可能对应不同的汇编语言，这样仍是不利于计算机发展的。**

​		三层次结构计算机系统——随面向问题的高级语言产生（FORTRAN、BASIC、C等）

​		图示：<img src="ComputerOrganizationAndDesign.assets/2.jpg" alt="2" style="zoom:15%;" />

​		在汇编之上出现的高级语言是更加1贴近人类语言的一种编程语言，并且具有较强的通用性，同时这还规避了底层机器不同型号可能有不同机器指令的问题，使程序员不再去纠结于底层的各种繁琐的机器指令。这类语言的产生催生了在汇编虚拟机器之上的高级语言机器，用户只需使用高级语言在这一层进行交互，其他事留给汇编程序和汇编语言机器。

​		通常，将高级语言程序翻译成机器语言程序的软件成为翻译程序，一般分为两种：一种是编译程序，一种是解释程序：

​		**编译程序是将用户编写的高级语言程序（源程序）的全部语句一次性全部翻译成机器语言程序，然后再执行机器语言程序。**

​		**解释程序是阿静源程序的一条语句翻译成对应的一条机器语言，并立即执行这条语句，然后再翻译下一条执行下一条，如此反复**。

​		四层次结构计算机——随实际机器向下发展产生微程序机器而生

​		图示：<img src="ComputerOrganizationAndDesign.assets/3.jpg" alt="3" style="zoom:15%;" />

​		微程序机器的发展是传统实际机器向下发展的结果，这一变化使得每一条机器指令会产生一个对应的微程序，在传统机器执行机器指令时会自动进入与该指令对应的微程序执行。

​		其实这个微程序机器就是将传统机器进一步进行了分解，将功能细化

​		多层次结构计算机——在传统机器和虚拟机器中新增操作系统机器

​		图示：<img src="ComputerOrganizationAndDesign.assets/4.jpg" alt="4" style="zoom:15%;" />

​		在四层次结构的基础上增加了操作系统机器，这个层级对计算机的全部硬件资源和软件资源进行管理，极大程度地方便了用户的操作，而操作系统的功能是通过其控制语言实现的

##### 1.1.3 计算机组成和计算机体系结构

**计算机体系结构：**通常是指能被程序员所见到的计算机系统的属性，即概念性的结构与功能特性：

- 计算机系统的属性通常是指用机器语言编程的程序员所看到的传统机器的属性

- 包括指令集、数据类型、存储器寻址技术、I/O机理等，大多是抽象属性

- 因为计算机多层次的特性，每一层次的程序员看到的属性各不相	

  **计算机组成：**是指如何实现计算机体系结构中所体现的属性，它包括了许多对程序员来说是透明的硬件细节：

举例：指令系统体现了机器的属性，这是属于计算机结构的问题。但是指令如何实现，即如何取指令、分析指令、取数操作、运算、运送结果等，都是计算机组成问题。

若是两台机器的指令系统完全相同，只能认为它们具有相同的结构，而这两台机器如何实现其指令的功能，**完全可以不同，即它们的组成方式可以不同。**

**组成和结构的不同可以理解为功能和实现方式的不同，同一个功能可以有不同的实现方式。一个机器具有某种功能，在实现上可以是有专门的物理电路实现，也可以是通过多种物理电路通过不同的调度方式实现**

#### 1.2 计算机的基本组成

##### 1.2.1 冯·诺伊曼计算机的特点

1. ​		计算机由运算器、存储器、控制器、输入设备和输出设备五大部件组成
2. ​		指令和数据以同等地位存放于存储器中，并可按地址寻访
3. ​		指令和数据均用二进制数表示
4. ​		指令由操作码和地址码组成，操作码表示操作的性质，地址吗用来表示操作数存放在存储器中的位置
5. ​		指令在存储器中按顺序存放
6. ​		机器以运算器为中心，输入输出设备与存储器见的数据传输通过运算器完成

##### 1.2.2 计算机的硬件框图

​		**冯诺依曼机**

​		图示：<img src="ComputerOrganizationAndDesign.assets/5.jpg" alt="5" style="zoom:15%;" />

​		**现代计算机结构框图及部件简介**

​		图示：<img src="ComputerOrganizationAndDesign.assets/6.jpg" alt="6" style="zoom:15%;" />

​		其中每个部件的功能如下：

- ​		运算器：用来完成算术运算和逻辑运算（ALU算术逻辑单元），运算的中间结果将暂存在运算器内
- ​		存储器：存放数据和程序
- ​		控制器：用来控制、指挥程序和数据的输入、运行以及处理运算结果（CU控制单元）
- ​		输入设备：用来将用户熟悉的信息转换为机器能够识别的信息形式，常见为键鼠
- ​		输出设备：将机器运算的结果转换为用户熟悉的信息形式，如打印机、显示器等

​		**五大部件在控制器的同一指挥下自动工作**

​		运算器和控制器在逻辑关系和电路关系上十分紧密，在大规模集成电路制作工艺出现后，这两个部件被集成在同一个芯片上，统称CPU。因此，现代计算机也可认为是三大部分组成，即CPU、I/O设备、主存储器（Main Memory，MM）。CPU和主存储器又称主机，I/O设备称为外设。

​		现代计算机的组成框图：<img src="ComputerOrganizationAndDesign.assets/7.jpg" alt="7" style="zoom:15%;" />

​		算术逻辑单元（Arithmetic Logic Unit ALU），简称逻辑部件，用来完成算术逻辑运算

​		控制单元（Control Unit CU）用来解释存储器中的指令，并发出各种操作命令来执行指令

##### 1.2.3 计算机的工作步骤

​		**上机前的准备：**

- ​		建立数学模型
- ​		确定计算方法
- ​		编制解题程序

​		**计算机工作过程**

- ​	      取指令：PC——MAR——M——MDR——IR
- ​        分析：OP(IR)——CU
- ​        执行：AD(IR)——MAR——M——MDR——ACC

​		计算机工作过程细化框图：

<img src="ComputerOrganizationAndDesign.assets/8.jpg" alt="8" style="zoom:15%;" />

- 主存储器包括存储体M、各种逻辑部件及控制电路

  - 存储体又包括若干存储单元，每个存储单元又包含若干存储元件（称为存储基元、存储元）

  - 每一个存储元件能寄存一位二进制码0或1

  - 由此可见，每一个存储单元可以存储一串二进制代码，这串二进制代码称为一个存储字，这串二进制代码的长度称为存储字长

  - 存储字长通常为2的幂次方，及8、16、32等

  - 为了能够实现按地址访问的方式，主存储器中还包含两个寄存器MAR和MDR

    - MAR Memory Address Register，存储器地址寄存器，用来存放欲访问的存储单元地址，其位数对应存储单元的个数

    - MDR Memory  Data Register，存储器数据寄存器，用来存放从存储单元中取出的代码或准备存入某存储单元的代码，其位数与存储字长相等

- 运算器，其中包括三个寄存器（现代计算机内通常设有通用寄存器）和一个算术逻辑单元（ALU）

  - ACC（Accumulator）累加器

  - MQ（Multiplier-Quotient Register）乘商寄存器

  - X 操作数寄存器

  - 各寄存器所存放的操作数对应表：<img src="ComputerOrganizationAndDesign.assets/9.jpg" alt="9" style="zoom:15%;" />

- 控制器，由程序计数器（Program Counter PC）、指令寄存器（Instruction Register IR）以及控制单元CU组成

  - PC：存放当前欲执行的指令的地址，与主存的MAR之间有一条直接通路，且具有自动加一的功能，即自动形成下一条指令的地址

  - IR：存放当前的指令，IR的内容来自主存的MDR

- I/O子系统包括各种I/O设备及其相应的接口，每一种I/O设备都由I/O接口与主机联系，它接受CU发出的各种控制命令，并完成相应的操作

#### 1.3 计算机硬件的主要技术指标

##### 1.3.1 机器字长

##### 1.3.2 主存容量

##### 1.3.3 运算速度

## 国外资料 计算机组成与设计——硬件/软件接口
## 第一章 计算机抽象及相关技术
## 第二章 指令：计算机的语言
## 第三章 计算机的算术运算
## 第四章 处理器
## 第五章 大而快：层次化存储
## 第六章 并行处理器：从客户端到云